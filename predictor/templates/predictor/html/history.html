{% load static %}
<!DOCTYPE html>
<html>
<head>
    <title>Prediction History</title>
    <link rel="stylesheet" href="{% static 'css/history.css' %}">
</head>
<body>
    <nav class="navbar">
        <div class="brand">üè† PricePredictor</div>
        <div class="links">
            <a href="{% url 'predictor:home' %}">Home</a>
            <a href="{% url 'predictor:history' %}">History</a>
        </div>
    </nav>

    <section class="history-container">
        <h2>Prediction History</h2>
        <table id="history-table">
            <tr>
                <th>Sq. Footage</th>
                <th>Bedrooms</th>
                <th>Bathrooms</th>
                <th>Predicted Price</th>
                <th>Time</th>
                <th>Action</th>
            </tr>
            {% for record in records %}
            <tr id="row-{{ record.id }}">
                <td>{{ record.square_footage }}</td>
                <td>{{ record.bedrooms }}</td>
                <td>{{ record.bathrooms }}</td>
                <td>‚Çπ {{ record.predicted_price|floatformat:"2" }}</td>
                <td>{{ record.created_at|date:"d M Y H:i" }}</td>
                <td><button class="delete-btn" onclick="deleteEntry('{{ record.id }}')">Delete</button></td>
            </tr>
            {% empty %}
            <tr><td colspan="6">No records found.</td></tr>
            {% endfor %}
        </table>
    </section>

     <script>
        const csrfToken = '{{ csrf_token }}';
    </script>
    <script src="{% static 'js/history.js' %}" defer></script>

    <footer>
        <p>&copy; 2025 House Price Predictor. All rights reserved.</p>
    </footer>
</body>
</html>
